<!-- <div
  class="task bg-gray-100 p-4 rounded-lg flex justify-between items-center shadow-sm mb-5"
>
  <div>
    <p class="font-medium text-lg">{{ task().title }}</p>
    <span class="text-sm text-gray-500">Priority: {{ task().priority }}</span>
    <p class="text-sm">{{ task().description }}</p>
  </div>

  <div class="flex items-center space-x-3">
    <select
      class="border border-gray-300 rounded-lg px-3 py-1.5 focus:border-mainColor focus:ring-mainColor transition"
      [value]="task().status"
    >
      <option value="not-started">Not Started</option>
      <option value="in-progress">In Progress</option>
      <option value="completed">Completed</option>
    </select>
    <select
      class="border border-gray-300 rounded-lg px-3 py-1.5 focus:border-mainColor focus:ring-mainColor transition"
      [value]="task().priority"
    >
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select>

    <select
      class="border border-gray-300 rounded-lg px-3 py-1.5 focus:border-mainColor focus:ring-mainColor transition"
    >
      <option>Set a reminder</option>
      <option value="High">24h</option>
      <option value="Medium">12h</option>
      <option value="Low">1h</option>
    </select>
    <button
      class="px-3 py-1.5 bg-fuchsia-300 text-white rounded-lg hover:bg-fuchsia-600 cursor-pointer transition"
      (click)="onEditTask()"
    >
      <fa-icon [icon]="faEdit"></fa-icon>
    </button>
    <button
      class="px-3 py-1.5 bg-fuchsia-300 text-white rounded-lg hover:bg-fuchsia-600 cursor-pointer transition"
      (click)="onDeleteTask()"
    >
      <fa-icon [icon]="faTrash"></fa-icon>
    </button>
  </div>
</div> -->

<!-- 
Just in case 
    <select
      class="border border-gray-300 rounded-lg px-3 py-1.5 w-full md:w-auto focus:border-fuchsia-500 focus:ring-fuchsia-500 transition"
      [value]="task().status"
    >
      <option value="not-started">Not Started</option>
      <option value="in-progress">In Progress</option>
      <option value="completed">Completed</option>
    </select>

    <select
      class="border border-gray-300 rounded-lg px-3 py-1.5 w-full md:w-auto focus:border-fuchsia-500 focus:ring-fuchsia-500 transition"
      [value]="task().priority"
    >
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select> -->

<!-- <div class="flex-1 min-w-0">
      <p class="font-medium text-lg">{{ task().title }}</p>
      <span class="text-sm text-gray-500 block"
        >Priority : {{ task().priority }}</span
      >
      <span class="text-sm text-gray-00 block">Status : {{ task().status }}</span>
      <p class="text-sm">{{ task().description }}</p>
    </div> -->
<!-- v2 -->
<!-- <div
  class="task bg-gray-100 p-4 rounded-lg flex flex-wrap lg:flex-nowrap justify-between items-center shadow-sm mb-5 gap-4"
>
  <div class="flex-1 min-w-0">
    <p class="font-medium text-lg">{{ task().title }}</p>
    <time class="text-sm text-gray-400 block"
      >Deadline: {{ task().deadline | date : "MMM d, y, h:mm a" }}</time
    >

    <div class="flex items-center gap-2 mt-1">
      <span
        class="flex items-center gap-1 text-sm font-medium px-2 py-0.5 rounded-md"
        [ngClass]="{
          'text-red-600 bg-red-100': task().priority === 'high',
          'text-yellow-600 bg-yellow-100': task().priority === 'medium',
          'text-green-600 bg-green-100': task().priority === 'low'
        }"
      >
        <span
          class="w-2 h-2 rounded-full"
          [ngClass]="{
            'bg-red-600': task().priority === 'high',
            'bg-yellow-600': task().priority === 'medium',
            'bg-green-600': task().priority === 'low'
          }"
        ></span>
        Priority: {{ task().priority }}
      </span>

      <span
        class="flex items-center gap-1 text-sm font-medium px-2 py-0.5 rounded-md"
        [ngClass]="{
          'text-gray-600 bg-gray-100': task().status === 'not-started',
          'text-blue-600 bg-blue-100': task().status === 'in-progress',
          'text-green-700 bg-green-100': task().status === 'completed'
        }"
      >
        <span
          class="w-2 h-2 rounded-full"
          [ngClass]="{
            'bg-gray-600': task().status === 'not-started',
            'bg-blue-600': task().status === 'in-progress',
            'bg-green-700': task().status === 'completed'
          }"
        ></span>
        Status: {{ task().status }}
      </span>
    </div>

    <p class="text-sm mt-2">{{ task().description }}</p>
    <p class="text-sm mt-2">
      {{task().timeLeft?
      `Reminder set for ${task().timeLeft }
      before deadline`:''}}
    </p>
  </div>

  <div
    class="flex flex-wrap lg:flex-nowrap items-center gap-3 w-full lg:w-auto"
  >
    <span class="text-sm font-medium text-fuchsia-600"
      >Time Spent: {{ formatTime(elapsedTime) }}</span
    >

    <button
      class="px-3 py-1.5 bg-green-400 text-white rounded-lg hover:bg-green-600 transition w-full md:w-auto"
      (click)="startStopTimer()"
    >
      <fa-icon [icon]="timerRunning ? pause : play"></fa-icon>
    </button>
  </div>

  <div
    class="flex flex-wrap lg:flex-nowrap items-center gap-3 w-full lg:w-auto"
  >
    <select
      class="border border-gray-300 rounded-lg px-3 py-1.5 w-full md:w-auto focus:border-fuchsia-500 focus:ring-fuchsia-500 transition"
      (change)="setReminder($event)"
      [value]="task().timeLeft || ''"
    >
      <option value="">Set a reminder</option>
      <option value="24">24h before Deadline</option>
      <option value="12">12h before Deadline</option>
      <option value="1">1h before Deadline</option>
    </select>

    <button
      class="px-3 py-1.5 bg-fuchsia-400 text-white rounded-lg hover:bg-fuchsia-600 transition w-full md:w-auto"
      (click)="onEditTask()"
    >
      <fa-icon [icon]="faEdit"></fa-icon>
    </button>

    <button
      class="px-3 py-1.5 bg-fuchsia-400 text-white rounded-lg hover:bg-fuchsia-600 transition w-full md:w-auto"
      (click)="onDeleteTask()"
    >
      <fa-icon [icon]="faTrash"></fa-icon>
    </button>
  </div>
</div> -->
<div
  class="task bg-gray-100 p-4 rounded-lg flex flex-wrap lg:flex-nowrap justify-between items-center shadow-sm mb-5 gap-4"
>
  <div class="flex-1 min-w-0">
    <p class="font-medium text-lg">{{ task().title }}</p>
    <time class="text-sm text-gray-400 block">
      Deadline: {{ task().deadline | date : "MMM d, y, h:mm a" }}
    </time>

    <div class="flex items-center gap-2 mt-1">
      <span
        class="flex items-center gap-1 text-sm font-medium px-2 py-0.5 rounded-md"
        [ngClass]="{
          'text-red-600 bg-red-100': task().priority === 'high',
          'text-yellow-600 bg-yellow-100': task().priority === 'medium',
          'text-green-600 bg-green-100': task().priority === 'low'
        }"
      >
        <span
          class="w-2 h-2 rounded-full"
          [ngClass]="{
            'bg-red-600': task().priority === 'high',
            'bg-yellow-600': task().priority === 'medium',
            'bg-green-600': task().priority === 'low'
          }"
        ></span>
        Priority: {{ task().priority }}
      </span>

      <span
        class="flex items-center gap-1 text-sm font-medium px-2 py-0.5 rounded-md"
        [ngClass]="{
          'text-gray-600 bg-gray-100': task().status === 'not-started',
          'text-blue-600 bg-blue-100': task().status === 'in-progress',
          'text-green-700 bg-green-100': task().status === 'completed'
        }"
      >
        <span
          class="w-2 h-2 rounded-full"
          [ngClass]="{
            'bg-gray-600': task().status === 'not-started',
            'bg-blue-600': task().status === 'in-progress',
            'bg-green-700': task().status === 'completed'
          }"
        ></span>
        Status: {{ task().status }}
      </span>
    </div>

    <p class="text-sm mt-2">{{ task().description }}</p>

    <!-- Reminder Badge -->
    <p *ngIf="task().timeLeft" class="text-sm mt-2 flex items-center gap-2">
      <span
        class="px-2 py-0.5 rounded-md text-white bg-fuchsia-500 text-xs font-medium"
      >
        ⏰ Reminder: {{ task().timeLeft }}h before deadline
      </span>
    </p>
  </div>

  <div
    class="flex flex-wrap lg:flex-nowrap items-center gap-3 w-full lg:w-auto"
  >
    <span class="text-sm font-medium text-fuchsia-600">
      Time Spent: {{ formatTime(elapsedTime) }}
    </span>

    <button
      class="px-3 py-1.5 bg-green-400 text-white rounded-lg hover:bg-green-600 transition w-full md:w-auto"
      (click)="startStopTimer()"
    >
      <fa-icon [icon]="timerRunning ? pause : play"></fa-icon>
    </button>
  </div>

  <div
    class="flex flex-wrap lg:flex-nowrap items-center gap-3 w-full lg:w-auto"
  >
    <!-- Reminder Dropdown -->
    <!-- <select
      class="border border-gray-300 rounded-lg px-3 py-1.5 w-full md:w-auto focus:border-fuchsia-500 focus:ring-fuchsia-500 transition"
      (change)="setReminder($event)"
      [value]="task().timeLeft || ''"
    >
      <option value="">Set a reminder</option>
      <option value="24">24h before Deadline</option>
      <option value="12">12h before Deadline</option>
      <option value="1">1h before Deadline</option>
    </select> -->
    <button
      (click)="toggleReminder()"
      class="px-4 py-2 rounded-lg font-medium transition-all duration-300 text-white disabled:cursor-not-allowed w-full md:w-auto"
      [ngClass]="
        task().reminderActive
          ? 'bg-red-500 hover:bg-red-600'
          : 'bg-blue-500 hover:bg-blue-600'
      "
    >
      {{ task().reminderActive ? "❌ Disable Reminder" : "🔔 Set Reminder" }}
    </button>

    <button
      class="px-3 py-1.5 bg-fuchsia-400 text-white rounded-lg hover:bg-fuchsia-600 transition w-full md:w-auto"
      (click)="onEditTask()"
    >
      <fa-icon [icon]="faEdit"></fa-icon>
    </button>

    <button
      class="px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-700 transition w-full md:w-auto"
      (click)="onDeleteTask()"
    >
      <fa-icon [icon]="faTrash"></fa-icon>
    </button>
  </div>
</div>
